// 유튜브 API 인증 정보
const api_key = "AIzaSyB1WN1jdwOXiZmLoyUjbJgVK7coF8ULlVo";

// 유튜브 API 클라이언트 생성
const youtube = gapi.client.youtube({
  'apiKey': api_key,
  'discoveryDocs': ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'],
});

// 인기 음악 동영상 정보 가져오기
youtube.videos.list({
  part: 'snippet,statistics',
  chart: 'mostPopular',
  regionCode: 'KR',
  videoCategoryId: 10, // 10번 카테고리는 음악 카테고리입니다.
  maxResults: 10,
}).then(response => {
  const items = response.result.items;
  for (let i = 0; i < items.length; i++) {
    const item = items[i];
    const title = item.snippet.title;
    const views = item.statistics.viewCount;
    const likes = item.statistics.likeCount || 0;
    const videoId = item.id.split('/').pop();
    const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
    console.log('Title:', title);
    console.log('Views:', views);
    console.log('Likes:', likes);
    console.log('Video ID:', videoId);
    console.log('Video URL:', videoUrl);
    console.log('----------------------------------');
  }
}).catch(error => {
  console.error(error);
});