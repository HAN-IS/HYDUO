<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Popular Music Videos</title>
  </head>
  <body>
    <ul id="videos-list"></ul>
    <script src="https://apis.google.com/js/api.js"></script>
    <script>
      // 유튜브 API 인증 정보
      const api_key = "AIzaSyB1WN1jdwOXiZmLoyUjbJgVK7coF8ULlVo";
        // 클라이언트 라이브러리 로드
  gapi.load('client', () => {
    gapi.client.init({
      'apiKey': api_key,
      'discoveryDocs': ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'],
    }).then(() => {
      // 인기 음악 동영상 정보 가져오기
      return gapi.client.youtube.videos.list({
        part: 'snippet,statistics',
        chart: 'mostPopular',
        regionCode: 'KR',
        videoCategoryId: 10, // 10번 카테고리는 음악 카테고리입니다.
        maxResults: 10,
      });
    }).then(response => {
      const items = response.result.items;
      const videosList = document.getElementById('videos-list');
      for (let i = 0; i < items.length; i++) {
        const item = items[i];
        const title = item.snippet.title;
        const views = item.statistics.viewCount;
        const likes = item.statistics.likeCount || 0;
        const videoId = item.id.split('/').pop();
        const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
        const listItem = document.createElement('li');
        listItem.innerHTML = `<a href="${videoUrl}" target="_blank">${title}</a> - Views: ${views}, Likes: ${likes}`;
        videosList.appendChild(listItem);
      }
    }).catch(error => {
      console.error(error);
    });
  });
</script>
</body>
</html>
